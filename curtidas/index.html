<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Perfil</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <script
      src="https://cdn.utmify.com.br/scripts/utms/latest.js"
      data-utmify-prevent-xcod-sck
      data-utmify-prevent-subids
      async
      defer
    ></script>
    <script src="../utm.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Inter", sans-serif !important;
      }

      body {
        display: flex;
        justify-content: center;
        background: linear-gradient(135deg, #fe7735 0%, #a01c1c 100%);
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        position: relative;
        color: rgb(75, 75, 75);
        height: 100vh;
        overflow: hidden;
      }

      main {
        display: flex;
        justify-content: center;
        width: 100%;
        height: 100vh;
        overflow-y: hidden;
        overflow-x: hidden;
        padding: 0;
      }

      .container {
        width: 100%;
        max-width: 500px;
        border-radius: 0;
        position: relative;
        min-height: 100vh;
        color: rgb(107, 107, 107);
        background: white;
      }

      .header {
        position: fixed;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 100%;
        max-width: 500px;
        background-color: white !important;
        box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 16px;
        z-index: 1000;
        border-radius: 0 0 15px 15px;
      }

      .header img.logo {
        height: 30px;
        margin-left: 0;
      }

      .header-icons {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-right: 0;
      }

      .header-icons .icon-btn {
        background: none;
        border: none;
        color: #ff4458;
        font-size: 20px;
        cursor: pointer;
        position: relative;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: transform 0.2s ease;
      }

      .header-icons .icon-btn:hover {
        transform: scale(1.1);
      }

      .header-icons .icon-btn span {
        font-size: 12px;
        font-weight: bold;
        background-color: #ff2727;
        border-radius: 100%;
        min-width: 18px;
        text-align: center;
        line-height: 1.2;
        color: white;
        box-shadow: 0 2px 4px rgba(255, 68, 88, 0.3);
      }

      .coroas {
        width: 100%;
        height: 100vh;
        transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
        opacity: 0;
        transform: translateX(100%);
        position: absolute;
        left: 0;
        top: 0;
        display: flex;
        flex-direction: column;
        background-color: #333;
      }

      .coroas.active {
        opacity: 1;
        transform: translateX(0);
        position: relative;
        background-color: #333;
      }

      .profile-header {
        position: relative;
        height: 100vh;
        overflow: hidden;
        margin-bottom: 0;
        border-radius: 0;
        flex: 1;
      }

      .carousel-container {
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
        top: 0;
        left: 0;
        z-index: 1;
        /* Adicione o pseudo-elemento para o gradiente */
      }

      .carousel-container::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 70%;
        background: linear-gradient(
          to top,
          rgba(0, 0, 0, 0.753) 50%,
          rgba(255, 0, 0, 0)
        );

        z-index: 2;
        pointer-events: none;
      }

      .carousel-images {
        display: flex;
        transition: transform 0.5s ease;
        width: 100%;
        height: 100%;
      }

      .carousel-image {
        width: 100%;
        height: 100%;
        flex-shrink: 0;
        position: relative;
        display: inline-block;
      }

      .carousel-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 0;
      }

      .blur-image {
        filter: blur(15px);
      }

      .cadeado-overlay {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
        pointer-events: none;
        text-align: center;
        color: white;
        background: rgba(0, 0, 0, 0.6);
        padding: 20px;
        border-radius: 12px;
        backdrop-filter: blur(10px);
      }

      .cadeado-overlay img {
        width: 40px;
        height: auto;
        margin-bottom: 8px;
        opacity: 0.9;
      }

      .cadeado-overlay h1 {
        font-size: 14px;
        font-weight: 600;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
      }

      .carousel-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.3);
        padding: 8px;
        cursor: pointer;
        font-size: 18px;
        z-index: 15;
        border-radius: 50%;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        display: none;
      }

      .carousel-btn:hover {
        background-color: rgba(255, 255, 255, 0.3);
        transform: translateY(-50%) scale(1.1);
      }

      .left {
        left: 16px;
      }

      .right {
        right: 16px;
      }

      /* Image indicator styles */
      .carousel-indicators {
        position: absolute;
        top: 15px;
        /* Adjust as needed */
        left: 50%;
        transform: translateX(-50%);
        z-index: 20;
        display: flex;
        gap: 5px;
      }

      .carousel-indicator-item {
        height: 2px;
        width: 50px;
        /* Adjust width as needed */
        background-color: rgba(49, 49, 49, 0.39);
        border-radius: 281px;
        transition: background-color 0.3s ease, width 0.3s ease;
        margin-top: 50px;
      }

      .carousel-indicator-item.active {
        background: linear-gradient(90deg, #fe7735, #ef0e0e);
        height: 3px;
        width: 70px;
        border-radius: 281px;
      }

      /* Profile info overlay - positioned over the image */
      .profile-info {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        color: white;
        z-index: 20;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
        padding: 60px 20px 20px;
        pointer-events: none;
      }

      .profile-name-distance {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
      }

      .profile-info h1 {
        margin: 0;
        font-size: 28px;
        font-weight: 300;
        text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
      }

      .profile-distance {
        display: flex;
        align-items: center;
        gap: 6px;
        font-weight: 400;
        margin-top: 15px;
      }

      .profile-distance p {
        color: white;
        font-size: 16px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        margin: 0;
      }

      .profile-distance img {
        filter: brightness(0) invert(1);
        opacity: 0.9;
      }

      /* Profile content sections - positioned absolutely at bottom */
      .profile-sections {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 25;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));
        padding: 0px 0px;
        padding-bottom: 25%;
        pointer-events: none;
      }

      .profile-content {
        color: white;
        padding: 0 20px;
        margin-bottom: 16px;
        pointer-events: auto;
      }

      .profile-content h3 {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 8px;
        color: #ff4458;
      }

      .profile-content p {
        font-size: 14px;
        line-height: 1.6;
        margin-bottom: 0;
        opacity: 0.95;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
      }

      .tags-container {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 8px;
      }

      .info-tag {
        background: rgba(54, 54, 54, 0.6);
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 11px;
        display: inline-block;
        backdrop-filter: blur(5px);
        color: rgba(255, 255, 255, 0.9);
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
      }

      .buttons {
        position: fixed;
        bottom: 50px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 16px !important;
        z-index: 100;
      }

      .btn {
        width: 100% !important;
        height: auto !important;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        border: none;
        transition: all 0.3s ease;
        border-radius: 10px;
        padding: 0px !important;
        background-color: #2c2c2c00;
      }

      .btn:hover {
        transform: scale(1.1);
        box-shadow: 0px 12px 25px rgba(0, 0, 0, 0.3);
      }

      .btn:active {
        transform: scale(0.95);
      }

      .btnLike {
        background-color: none !important;
        position: relative;
        top: 30px;
      }

      .btnDeslike {
        background-color: none !important;
        position: relative;
        top: 30px;
      }

      /* Popups */
      .popup-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.911);
        backdrop-filter: blur(10px);
        display: none;
        justify-content: center;
        align-items: center;
        justify-items: center;
        text-align: center;
        z-index: 1001;
      }

      .popup {
        color: white;
        border-radius: 20px;
        text-align: center;
        width: 90%;
        max-width: 380px;
        position: relative;
      }

      /* Match Popup Specific Styles */
      #matchPopup .popup-images {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: -10px;
        margin-bottom: 20px;
        position: relative;
      }

      #matchPopup #profile-image-match,
      #matchPopup #popup-image-match {
        width: 180px;
        height: 270px;
        border-radius: 12px;
        object-fit: cover;
        border: 3px solid white;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
      }

      #matchPopup #profile-image-match {
        transform: rotate(-8deg);
        z-index: 1;
      }

      #matchPopup #popup-image-match {
        transform: rotate(8deg);
        z-index: 1;
      }

      #matchPopup #heart-icon-match {
        width: 50px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(1.3);
        z-index: 2;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
      }

      #matchPopup h1 {
        font-size: 56px;
        font-weight: 900;
        margin-bottom: 15px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      #matchPopup p {
        font-size: 15px;
        margin-bottom: 25px;
        line-height: 1.5;
        opacity: 0.9;
      }

      #matchPopup button {
        background: linear-gradient(45deg, #420079, #ae00ff);
        color: white;
        border: none;
        border-radius: 25px;
        padding: 14px 30px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        width: 85%;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(174, 0, 255, 0.3);
      }

      #matchPopup button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(174, 0, 255, 0.4);
      }

      /* Unlimited Likes Popup */
      #unlimitedLikesPopup .popup-title {
        font-size: 24px;
        margin-bottom: 18px;
        color: #ff64c5;
        font-weight: bold;
      }

      #unlimitedLikesPopup p {
        font-size: 15px;
        margin-bottom: 25px;
        line-height: 1.5;
        opacity: 0.9;
      }

      #unlimitedLikesPopup .secure-chat-button {
        background: linear-gradient(45deg, #420079, #ae00ff);
        color: white;
        border: none;
        border-radius: 25px;
        padding: 14px 20px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        width: 100%;
        margin-top: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(174, 0, 255, 0.3);
      }

      #unlimitedLikesPopup .secure-chat-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(174, 0, 255, 0.4);
      }

      /* No More Profiles */
      #noMoreProfiles {
        text-align: center;
        padding: 60px 20px;
        color: white;
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #ffa171 0%, #ef0e0e 100%);
      }

      #noMoreProfiles img {
        width: 80px;
        margin-bottom: 25px;
        opacity: 0.8;
      }

      #noMoreProfiles h1 {
        font-size: 24px;
        margin-bottom: 15px;
        font-weight: 600;
      }

      #noMoreProfiles p {
        font-size: 16px;
        opacity: 0.8;
        line-height: 1.5;
        max-width: 280px;
        margin-bottom: 30px;
      }

      #noMoreProfiles .distance-info {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 25px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      #noMoreProfiles .distance-info h3 {
        font-size: 18px;
        margin-bottom: 10px;
        font-weight: 500;
      }

      #noMoreProfiles .distance-info p {
        font-size: 14px;
        opacity: 0.9;
        margin-bottom: 0;
      }

      #noMoreProfiles .increase-distance-btn {
        background: linear-gradient(45deg, #420079, #ae00ff);
        color: white;
        border: none;
        border-radius: 25px;
        padding: 14px 30px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(174, 0, 255, 0.3);
        display: flex;
        align-items: center;
        gap: 10px;
      }

      #noMoreProfiles .increase-distance-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(174, 0, 255, 0.4);
      }

      #noMoreProfiles .increase-distance-btn:active {
        transform: translateY(0);
      }

      /* Distance Increase Popup */
      #distanceIncreasePopup {
        text-align: center;
        padding: 40px 20px;
        color: white;
        border-radius: 20px;
        background: linear-gradient(135deg, #ffa171 0%, #ef0e0e 100%);
        max-width: 350px;
        margin: 20px;
      }

      #distanceIncreasePopup h2 {
        font-size: 22px;
        margin-bottom: 15px;
        font-weight: 600;
      }

      #distanceIncreasePopup p {
        font-size: 14px;
        opacity: 0.9;
        line-height: 1.5;
        margin-bottom: 25px;
      }

      #distanceIncreasePopup .distance-options {
        display: flex;
        flex-direction: column;
        gap: 12px;
        margin-bottom: 25px;
      }

      #distanceIncreasePopup .distance-option {
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: 12px;
        padding: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
        backdrop-filter: blur(5px);
      }

      #distanceIncreasePopup .distance-option:hover {
        background: rgba(255, 255, 255, 0.2);
        border-color: rgba(255, 255, 255, 0.4);
        transform: translateY(-2px);
      }

      #distanceIncreasePopup .distance-option.selected {
        background: rgba(174, 0, 255, 0.3);
        border-color: #ae00ff;
      }

      #distanceIncreasePopup .distance-option h4 {
        font-size: 16px;
        margin-bottom: 5px;
        font-weight: 600;
      }

      #distanceIncreasePopup .distance-option span {
        font-size: 12px;
        opacity: 0.8;
      }

      #distanceIncreasePopup .confirm-btn {
        background: linear-gradient(45deg, #420079, #ae00ff);
        color: white;
        border: none;
        border-radius: 25px;
        padding: 14px 30px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        width: 100%;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(174, 0, 255, 0.3);
      }

      #distanceIncreasePopup .confirm-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(174, 0, 255, 0.4);
      }

      #distanceIncreasePopup .confirm-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
      }

      /* VIP Payment Popup Styles */
      #vipPaymentPopup {
        background-color: white;
        border-radius: 20px;
        max-width: 400px;
        margin: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      }

      .vip-payment-btn {
        background: linear-gradient(45deg, #420079, #ae00ff);
        color: white;
        border: none;
        border-radius: 25px;
        padding: 16px 30px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        width: 100%;
        margin-bottom: 15px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(174, 0, 255, 0.3);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .vip-payment-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(174, 0, 255, 0.4);
      }

      .vip-payment-btn:active {
        transform: translateY(0);
      }

      .cancel-vip-btn {
        background: none;
        border: 2px solid #ddd;
        color: #666;
        border-radius: 25px;
        padding: 12px 30px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        width: 100%;
        transition: all 0.3s ease;
      }

      .cancel-vip-btn:hover {
        background: #f5f5f5;
        border-color: #ccc;
      }

      .cancel-vip-btn:active {
        transform: scale(0.98);
      }
    </style>
  </head>

  <body>
    <header class="header">
      <img src="logosvg.svg" alt="Logo" style="width: 150px" />
      <div class="header-icons">
        <button
          class="icon-btn"
          id="likes-btn"
          onclick="window.location.href='index.html'"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="24"
            viewBox="0 0 20 24"
            fill="none"
          >
            <path
              d="M9.99896 24H9.94196C4.46053 24 0 19.516 0 14.0045C0 12.0763 0.665931 9.93627 1.8738 7.97614C2.34476 7.21149 3.24666 6.85065 4.11457 7.08054C4.98348 7.30944 5.58842 8.0671 5.61941 8.9647C5.7154 11.7035 6.37233 14.976 8.95706 15.005C10.038 15.014 10.8939 14.2583 10.9839 13.2788C11.0778 12.2532 10.7069 11.4496 10.2379 10.433C9.68599 9.23358 8.99806 7.74225 8.99806 5.53423C8.99806 3.82799 9.34302 2.12375 9.68499 1.19117C9.93996 0.498479 10.5409 0.0436813 11.2548 0.00269961C11.9937 -0.0372826 12.6687 0.369536 13.0076 1.04424C13.8096 2.63852 14.9454 4.11187 16.0433 5.53723C18.0151 8.09809 20.0539 10.7459 19.9989 14.0204C19.9989 19.482 15.5164 23.966 10.006 23.999H9.99996L9.99896 24Z"
              fill="url(#paint0_linear_8_99)"
            />
            <defs>
              <linearGradient
                id="paint0_linear_8_99"
                x1="10"
                y1="0"
                x2="10"
                y2="24"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#FE7735" />
                <stop offset="1" stop-color="#EF0E0E" />
              </linearGradient>
            </defs>
          </svg>
          <span
            id="like-count"
            style="
              margin-left: -13px;
              margin-bottom: -21px;
              border: solid 2px white;
              font-size: 12px;
              padding: 1px 2px;
              font-weight: 300;
              box-shadow: none;
              background-color: #ff2727 !important;
            "
            >5</span
          >
        </button>
        <button
          class="icon-btn"
          id="matches-btn"
          onclick="window.location.href='contatos.html'"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
          >
            <path
              d="M23.9763 11.2593C23.8318 8.92177 23.0064 6.67759 21.6019 4.80345C20.1974 2.9293 18.2752 1.50713 16.0722 0.712258C13.8692 -0.0826159 11.4817 -0.215442 9.20415 0.330154C6.92657 0.875751 4.85843 2.07592 3.25471 3.7827C1.65098 5.48948 0.581766 7.62825 0.178885 9.93536C-0.223996 12.2425 0.057066 14.617 0.987421 16.7663C1.91778 18.9156 3.45675 20.7457 5.41462 22.0309C7.37249 23.3161 9.66367 24.0003 12.0057 23.9991H18.9814C20.3058 23.9978 21.5754 23.4711 22.5119 22.5347C23.4483 21.5983 23.9749 20.3286 23.9763 19.0043V11.2593ZM21.9783 19.0043C21.9783 19.7991 21.6626 20.5614 21.1006 21.1234C20.5385 21.6854 19.7763 22.0012 18.9814 22.0012H12.0057C10.5961 22.0006 9.20243 21.7028 7.91562 21.1274C6.62881 20.552 5.47772 19.7118 4.53742 18.6617C3.59258 17.612 2.88307 16.3725 2.45648 15.0262C2.02988 13.6799 1.89606 12.258 2.06399 10.8557C2.32915 8.64398 3.32287 6.58336 4.8885 4.99874C6.45413 3.41412 8.50262 2.39563 10.711 2.10382C11.1418 2.04983 11.5755 2.02247 12.0097 2.0219C14.3377 2.01555 16.5937 2.82897 18.3821 4.31952C19.4265 5.18757 20.2838 6.25866 20.902 7.46789C21.5202 8.67711 21.8863 9.99927 21.9783 11.3542V19.0043Z"
              fill="black"
            />
            <path
              d="M7.99262 9.01459H11.9885C12.2534 9.01459 12.5075 8.90934 12.6948 8.722C12.8822 8.53466 12.9874 8.28057 12.9874 8.01563C12.9874 7.75069 12.8822 7.49659 12.6948 7.30925C12.5075 7.12191 12.2534 7.01666 11.9885 7.01666H7.99262C7.72767 7.01666 7.47358 7.12191 7.28624 7.30925C7.0989 7.49659 6.99365 7.75069 6.99365 8.01563C6.99365 8.28057 7.0989 8.53466 7.28624 8.722C7.47358 8.90934 7.72767 9.01459 7.99262 9.01459Z"
              fill="black"
            />
            <path
              d="M15.9843 11.0126H7.99262C7.72767 11.0126 7.47358 11.1179 7.28624 11.3052C7.0989 11.4925 6.99365 11.7466 6.99365 12.0116C6.99365 12.2765 7.0989 12.5306 7.28624 12.7179C7.47358 12.9053 7.72767 13.0105 7.99262 13.0105H15.9843C16.2493 13.0105 16.5034 12.9053 16.6907 12.7179C16.878 12.5306 16.9833 12.2765 16.9833 12.0116C16.9833 11.7466 16.878 11.4925 16.6907 11.3052C16.5034 11.1179 16.2493 11.0126 15.9843 11.0126Z"
              fill="black"
            />
            <path
              d="M15.9843 15.0084H7.99262C7.72767 15.0084 7.47358 15.1137 7.28624 15.301C7.0989 15.4884 6.99365 15.7424 6.99365 16.0074C6.99365 16.2723 7.0989 16.5264 7.28624 16.7138C7.47358 16.9011 7.72767 17.0064 7.99262 17.0064H15.9843C16.2493 17.0064 16.5034 16.9011 16.6907 16.7138C16.878 16.5264 16.9833 16.2723 16.9833 16.0074C16.9833 15.7424 16.878 15.4884 16.6907 15.301C16.5034 15.1137 16.2493 15.0084 15.9843 15.0084Z"
              fill="black"
            />
          </svg>
          <span
            id="match-count"
            style="
              margin-left: -13px;
              margin-bottom: -21px;
              border: solid 1px white;
              font-size: 12px;
              padding: 1px 1px;
              font-weight: 300;
              box-shadow: none;
            "
            >2</span
          >
        </button>
      </div>
    </header>

    <main>
      <div class="container" id="profile-container"></div>

      <!-- Popup de Aumento de Distância -->
      <div class="popup-overlay" id="distanceIncreaseOverlay">
        <div class="popup" id="distanceIncreasePopup">
          <h2>Aumentar Distância</h2>
          <p>Escolha uma nova distância para encontrar mais perfis na sua região</p>
          
          <div class="distance-options">
            <div class="distance-option" data-distance="25">
              <h4>25 km</h4>
              <span>Encontre perfis em um raio maior</span>
            </div>
            <div class="distance-option" data-distance="50">
              <h4>50 km</h4>
              <span>Amplie ainda mais sua busca</span>
            </div>
            <div class="distance-option" data-distance="100">
              <h4>100 km</h4>
              <span>Máxima distância disponível</span>
            </div>
          </div>
          
          <button class="confirm-btn" id="confirmDistanceBtn" disabled>
            Confirmar Distância
          </button>
        </div>
      </div>

      <!-- Popup de Cobrança VIP -->
      <div class="popup-overlay" id="vipPaymentOverlay">
        <div class="popup" id="vipPaymentPopup">
          <div style="text-align: center; padding: 20px;">
            <img src="logoCompleta.svg" alt="Logo VIP" style="width: 60px; margin-bottom: 15px;">
            <h2 style="color: #ff4458; margin-bottom: 10px;">Acesso VIP Necessário</h2>
            <p style="color: #666; margin-bottom: 20px; line-height: 1.5;">
              Para acessar perfis em um raio de <strong>${currentDistance} km</strong>, você precisa do plano VIP Premium.
            </p>
            
            <div style="background: linear-gradient(135deg, #ffa171 0%, #ef0e0e 100%); border-radius: 15px; padding: 20px; margin-bottom: 20px; color: white;">
              <h3 style="margin-bottom: 10px; font-size: 18px;">🎯 Plano VIP Premium</h3>
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <span>Distância expandida</span>
                <span style="font-weight: bold;">Até 100 km</span>
              </div>
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <span>Curtidas ilimitadas</span>
                <span style="font-weight: bold;">∞</span>
              </div>
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <span>Ver quem curtiu você</span>
                <span style="font-weight: bold;">✓</span>
              </div>
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <span>Fotos desbloqueadas</span>
                <span style="font-weight: bold;">✓</span>
              </div>
              <div style="border-top: 1px solid rgba(255,255,255,0.3); padding-top: 15px; text-align: center;">
                <span style="font-size: 14px; opacity: 0.9;">Por apenas</span>
                <div style="font-size: 24px; font-weight: bold; margin-top: 5px;">R$ 19,90</div>
                <span style="font-size: 12px; opacity: 0.8;">por mês</span>
              </div>
            </div>
            
            <button class="vip-payment-btn" onclick="processVIPPayment()">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" style="margin-right: 8px;">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
              </svg>
              Ativar VIP Premium
            </button>
            
            <button class="cancel-vip-btn" onclick="closeVIPPayment()">
              Talvez depois
            </button>
          </div>
        </div>
      </div>
    </main>

    <div class="buttons">
      <button class="btn btnDeslike" id="dislike">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="173"
          height="49"
          viewBox="0 0 173 49"
          fill="none"
        >
          <rect
            width="173"
            height="49"
            rx="10"
            fill="#474747"
            fill-opacity="0.47"
          />
          <path
            d="M95.5061 32.1418L88.3765 25.0122L95.5061 17.8826C96.1624 17.2264 96.1624 16.1624 95.5061 15.5061C94.8498 14.8498 93.7858 14.8498 93.1296 15.5061L86 22.6357L78.8704 15.5061C78.2142 14.8498 77.1502 14.8498 76.4939 15.5061C75.8376 16.1624 75.8376 17.2264 76.4939 17.8826L83.6235 25.0122L76.4939 32.1418C75.8376 32.798 75.8376 33.862 76.4939 34.5183C77.1502 35.1745 78.2142 35.1745 78.8704 34.5183L86 27.3887L93.1296 34.5183C93.7858 35.1745 94.8498 35.1745 95.5061 34.5183C96.1624 33.862 96.1624 32.798 95.5061 32.1418Z"
            fill="white"
          />
        </svg>
      </button>
      <button class="btn btnLike" id="like">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="173"
          height="49"
          viewBox="0 0 173 49"
          fill="none"
        >
          <rect
            width="173"
            height="49"
            rx="10"
            fill="url(#paint0_linear_8_193)"
          />
          <path
            d="M89.785 29.9643C89.785 28.5701 88.8268 26.6648 87.0897 24.5987C86.9935 24.484 86.8731 24.3921 86.7371 24.3295C86.6012 24.267 86.453 24.2354 86.3034 24.2371C86.1526 24.2364 86.0035 24.2686 85.8664 24.3313C85.7294 24.3941 85.6076 24.486 85.5096 24.6005C83.608 26.8284 82.6786 28.7988 82.8394 30.3091C82.9026 30.7866 83.0664 31.2453 83.3198 31.655C83.5733 32.0646 83.9107 32.4159 84.3097 32.6856C84.8743 33.1485 85.574 33.4154 86.3034 33.4459C87.2264 33.4449 88.1114 33.0778 88.7642 32.4251C89.4169 31.7724 89.784 30.8874 89.785 29.9643Z"
            fill="white"
          />
          <path
            d="M90.6055 15.6938C89.875 15.073 89.1082 14.4224 88.3275 13.7123C88.0315 13.4435 87.6803 13.2427 87.2985 13.1239C86.9167 13.0051 86.5136 12.9712 86.1173 13.0245C85.7333 13.0754 85.3651 13.21 85.0387 13.4187C84.7124 13.6275 84.4359 13.9054 84.2287 14.2328C83.1212 16.084 82.3379 18.1108 81.9126 20.2257C81.7462 19.9848 81.5983 19.7316 81.4702 19.4683C81.3386 19.1911 81.1405 18.9508 80.8935 18.7688C80.6465 18.5868 80.3583 18.4688 80.0546 18.4252C79.7509 18.3817 79.4411 18.414 79.153 18.5193C78.8648 18.6246 78.6071 18.7996 78.403 19.0286C76.8447 20.622 75.9808 22.7678 76.0005 24.9965C75.9789 27.2731 76.7193 29.4915 78.1039 31.2988C79.4884 33.1061 81.4376 34.3984 83.6413 34.9702C84.4851 35.1825 85.3514 35.2924 86.2214 35.2974C85.1096 35.2559 84.0409 34.8563 83.1747 34.1579C82.5747 33.7356 82.0702 33.1919 81.6939 32.5619C81.3176 31.932 81.078 31.23 80.9906 30.5015C80.7768 28.4475 81.8206 26.0561 84.093 23.3942C84.3656 23.0746 84.7045 22.8182 85.0862 22.6428C85.4679 22.4673 85.8831 22.3771 86.3032 22.3783H86.3125C86.7313 22.3786 87.145 22.4703 87.5248 22.6469C87.9046 22.8234 88.2413 23.0807 88.5115 23.4007C89.941 25.0987 91.6465 27.6156 91.6465 29.9634C91.6444 31.3164 91.1292 32.6182 90.2048 33.6061C89.2803 34.594 88.0155 35.1945 86.6657 35.2862C89.3347 35.2003 91.8654 34.0786 93.7217 32.159C95.578 30.2394 96.6141 27.6725 96.6106 25.0021C96.6059 20.7918 93.8251 18.431 90.6055 15.6938Z"
            fill="white"
          />
          <defs>
            <linearGradient
              id="paint0_linear_8_193"
              x1="0"
              y1="24.5"
              x2="173"
              y2="24.5"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#FE7735" />
              <stop offset="1" stop-color="#EF0E0E" />
            </linearGradient>
          </defs>
        </svg>
      </button>
    </div>

    <div class="popup-overlay" id="matchOverlay">
      <div class="popup" id="matchPopup">
        <div class="popup-images">
          <img
            id="profile-image-match"
            src="https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=200"
            alt="Sua Foto"
            style="border: none"
          />
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="104"
            height="97"
            viewBox="0 0 104 97"
            fill="none"
            style="
              box-shadow: none !important;
              margin-left: -60px;
              margin-right: -60px;
              z-index: 5;
            "
          >
            <g filter="url(#filter0_d_2_314)">
              <path
                d="M36.2791 14.7139C39.4434 14.7638 42.5387 15.6605 45.2524 17.3132C47.9661 18.966 50.2021 21.3164 51.7346 24.127C53.2672 21.3164 55.5032 18.966 58.2169 17.3132C60.9306 15.6605 64.0259 14.7638 67.1902 14.7139C72.2345 14.9363 76.9871 17.1763 80.4095 20.9443C83.832 24.7124 85.6463 29.7022 85.4559 34.8237C85.4559 47.7939 72.0067 61.9592 60.727 71.5635C58.2085 73.7118 55.0243 74.8895 51.7346 74.8895C48.445 74.8895 45.2608 73.7118 42.7423 71.5635C31.4626 61.9592 18.0134 47.7939 18.0134 34.8237C17.823 29.7022 19.6372 24.7124 23.0597 20.9443C26.4822 17.1763 31.2348 14.9363 36.2791 14.7139Z"
                fill="url(#paint0_linear_2_314)"
              />
            </g>
            <defs>
              <filter
                id="filter0_d_2_314"
                x="-0.000244141"
                y="0.713867"
                width="103.47"
                height="96.1757"
                filterUnits="userSpaceOnUse"
                color-interpolation-filters="sRGB"
              >
                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                <feColorMatrix
                  in="SourceAlpha"
                  type="matrix"
                  values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                  result="hardAlpha"
                />
                <feOffset dy="4" />
                <feGaussianBlur stdDeviation="9" />
                <feComposite in2="hardAlpha" operator="out" />
                <feColorMatrix
                  type="matrix"
                  values="0 0 0 0 0.8 0 0 0 0 0.133333 0 0 0 0 1 0 0 0 0 0.28 0"
                />
                <feBlend
                  mode="normal"
                  in2="BackgroundImageFix"
                  result="effect1_dropShadow_2_314"
                />
                <feBlend
                  mode="normal"
                  in="SourceGraphic"
                  in2="effect1_dropShadow_2_314"
                  result="shape"
                />
              </filter>
              <linearGradient
                id="paint0_linear_2_314"
                x1="51.7346"
                y1="14.7139"
                x2="51.7346"
                y2="74.8895"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#FE7735" />
                <stop offset="0.5" stop-color="#C75021" />
                <stop offset="1" stop-color="#EF0E0E" />
              </linearGradient>
            </defs>
          </svg>
          <img
            id="popup-image-match"
            src="https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=200"
            alt="Foto Match"
            style="border: none"
          />
        </div>
        <h1
          style="
            background: linear-gradient(180deg, #fa592a, #f32a18);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
          "
        >
          Match!
        </h1>
        <p>
          <span style="font-weight: bold">Vocês se conectaram!</span> Agora é
          sua chance de ganhar muitos mimos.
        </p>
      </div>
    </div>

    <!-- Primeiro pop-up (Curtidas Esgotadas) -->
    <div
      class="popup-overlay"
      id="unlimitedLikesOverlay"
      style="
        display: none;
        justify-content: center;
        align-items: center;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 9999;
      "
    >
      <div
        class="popup"
        id="unlimitedLikesPopup"
        style="
          background-color: white;
          padding: 20px;
          border: 1.5px solid #fe7735;
          border-radius: 10px;
          max-width: 380px;
          box-sizing: border-box;
          font-family: Arial, sans-serif;
        "
      >
        <h2
          class="popup-title"
          style="
            background: linear-gradient(180deg, #fe7735 0%, #ef0e0e 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 0 0 12px 0;
            font-weight: 700;
          "
        >
          Curtidas Esgotadas!
        </h2>
        <p style="color: black; font-size: 15px; margin-bottom: 20px">
          Você usou as suas <strong>curtidas gratuitas.</strong> Desbloqueie
          curtidas ilimitadas e veja quem curtiu você para continuar
          <strong>conhecendo pessoas!</strong>
        </p>
        <button
          onclick="openSecondPopup()"
          class="secure-chat-button"
          style="
            border-radius: 10px;
            background: linear-gradient(90deg, #fe7735 0%, #ef0e0e 100%);
            border: none;
            cursor: pointer;
            color: white;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            font-size: 14px;
            width: 100%;
            justify-content: center;
            transition: background 0.3s ease;
          "
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="17"
            height="23"
            viewBox="0 0 17 23"
            fill="none"
            style="flex-shrink: 0"
          >
            <path
              d="M11.1194 16.9643C11.1194 15.5702 10.3465 13.6649 8.94527 11.5987C8.86772 11.484 8.7706 11.3921 8.66091 11.3296C8.55123 11.2671 8.43172 11.2355 8.31101 11.2372C8.18941 11.2365 8.06914 11.2686 7.95857 11.3314C7.84801 11.3942 7.74979 11.486 7.67075 11.6006C6.13684 13.8284 5.38713 15.7988 5.51683 17.3092C5.56787 17.7867 5.69996 18.2454 5.90439 18.655C6.10883 19.0647 6.38097 19.4159 6.70287 19.6857C7.15824 20.1486 7.72265 20.4154 8.31101 20.446C9.05561 20.445 9.76948 20.0779 10.296 19.4251C10.8225 18.7724 11.1186 17.8874 11.1194 16.9643Z"
              fill="white"
            />
            <path
              d="M11.7814 2.69384C11.1921 2.07298 10.5736 1.42238 9.94382 0.712292C9.70503 0.44353 9.42174 0.242718 9.11378 0.123914C8.80583 0.00511024 8.48065 -0.028815 8.161 0.0245136C7.85121 0.075378 7.5542 0.209953 7.29097 0.418732C7.02773 0.627512 6.80468 0.905402 6.63758 1.23277C5.74422 3.08404 5.11238 5.11082 4.7693 7.22574C4.63507 6.98479 4.51578 6.73157 4.41243 6.46826C4.30632 6.19109 4.14651 5.95079 3.94728 5.76879C3.74804 5.5868 3.51556 5.46878 3.27058 5.42525C3.02561 5.38172 2.77575 5.41403 2.54329 5.51932C2.31084 5.6246 2.10302 5.79958 1.93838 6.02864C0.681338 7.62205 -0.0154776 9.76781 0.000369063 11.9965C-0.0170155 14.2731 0.580219 16.4915 1.69706 18.2988C2.81389 20.1061 4.38618 21.3984 6.16377 21.9702C6.84438 22.1825 7.54315 22.2924 8.24497 22.2974C7.34811 22.2559 6.48608 21.8563 5.78741 21.1579C5.3034 20.7356 4.89643 20.1919 4.59291 19.5619C4.28939 18.932 4.0961 18.23 4.02558 17.5015C3.85315 15.4475 4.69508 13.0561 6.52813 10.3942C6.74803 10.0746 7.0214 9.8182 7.32927 9.64277C7.63714 9.46735 7.97212 9.3771 8.31095 9.3783H8.31844C8.65628 9.37865 8.99 9.47029 9.29634 9.64686C9.60269 9.82343 9.87431 10.0807 10.0923 10.4007C11.2453 12.0987 12.6211 14.6156 12.6211 16.9634C12.6194 18.3164 12.2038 19.6182 11.4581 20.6061C10.7124 21.594 9.69218 22.1945 8.60333 22.2862C10.7563 22.2003 12.7976 21.0786 14.295 19.159C15.7924 17.2394 16.6281 14.6725 16.6253 12.0021C16.6215 7.79176 14.3784 5.43101 11.7814 2.69384Z"
              fill="white"
            />
          </svg>
          Obter Curtidas Ilimitadas
        </button>
        <button
          onclick="document.getElementById('unlimitedLikesOverlay').style.display='none'"
          style="
            background: none;
            border: none;
            color: #868686;
            margin-top: 15px;
            cursor: pointer;
            font-size: 14px;
          "
        >
          Fechar
        </button>
      </div>
    </div>

    <style>
      .popup5 {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.911);
        backdrop-filter: blur(10px);
        justify-content: center;
        align-items: center;
        justify-items: center;
        text-align: center;
        z-index: 1001;
      }
    </style>
    <div class="popup5" id="popup5">
      <div
        class="popup"
        id="unlimitedLikesPopup"
        style="
          background-color: white;
          padding: 20px;
          border: 1.5px solid #fe7735;
          border-radius: 10px;
          max-width: 380px;
          box-sizing: border-box;
          font-family: Arial, sans-serif;
        "
      >
        <h2
          class="popup-title"
          style="
            background: linear-gradient(180deg, #fe7735 0%, #ef0e0e 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 0 0 12px 0;
            font-weight: 700;
          "
        >
          Curtidas Esgotadas!
        </h2>
        <p style="color: black; font-size: 15px; margin-bottom: 20px">
          Você usou as suas <strong>curtidas gratuitas.</strong> Desbloqueie
          curtidas ilimitadas e veja quem curtiu você para continuar
          <strong>conhecendo pessoas!</strong>
        </p>
        <button
          onclick="openSecondPopup()"
          class="secure-chat-button"
          style="
            border-radius: 10px;
            background: linear-gradient(90deg, #fe7735 0%, #ef0e0e 100%);
            border: none;
            cursor: pointer;
            color: white;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            font-size: 14px;
            width: 100%;
            justify-content: center;
            transition: background 0.3s ease;
          "
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="17"
            height="23"
            viewBox="0 0 17 23"
            fill="none"
            style="flex-shrink: 0"
          >
            <path
              d="M11.1194 16.9643C11.1194 15.5702 10.3465 13.6649 8.94527 11.5987C8.86772 11.484 8.7706 11.3921 8.66091 11.3296C8.55123 11.2671 8.43172 11.2355 8.31101 11.2372C8.18941 11.2365 8.06914 11.2686 7.95857 11.3314C7.84801 11.3942 7.74979 11.486 7.67075 11.6006C6.13684 13.8284 5.38713 15.7988 5.51683 17.3092C5.56787 17.7867 5.69996 18.2454 5.90439 18.655C6.10883 19.0647 6.38097 19.4159 6.70287 19.6857C7.15824 20.1486 7.72265 20.4154 8.31101 20.446C9.05561 20.445 9.76948 20.0779 10.296 19.4251C10.8225 18.7724 11.1186 17.8874 11.1194 16.9643Z"
              fill="white"
            />
            <path
              d="M11.7814 2.69384C11.1921 2.07298 10.5736 1.42238 9.94382 0.712292C9.70503 0.44353 9.42174 0.242718 9.11378 0.123914C8.80583 0.00511024 8.48065 -0.028815 8.161 0.0245136C7.85121 0.075378 7.5542 0.209953 7.29097 0.418732C7.02773 0.627512 6.80468 0.905402 6.63758 1.23277C5.74422 3.08404 5.11238 5.11082 4.7693 7.22574C4.63507 6.98479 4.51578 6.73157 4.41243 6.46826C4.30632 6.19109 4.14651 5.95079 3.94728 5.76879C3.74804 5.5868 3.51556 5.46878 3.27058 5.42525C3.02561 5.38172 2.77575 5.41403 2.54329 5.51932C2.31084 5.6246 2.10302 5.79958 1.93838 6.02864C0.681338 7.62205 -0.0154776 9.76781 0.000369063 11.9965C-0.0170155 14.2731 0.580219 16.4915 1.69706 18.2988C2.81389 20.1061 4.38618 21.3984 6.16377 21.9702C6.84438 22.1825 7.54315 22.2924 8.24497 22.2974C7.34811 22.2559 6.48608 21.8563 5.78741 21.1579C5.3034 20.7356 4.89643 20.1919 4.59291 19.5619C4.28939 18.932 4.0961 18.23 4.02558 17.5015C3.85315 15.4475 4.69508 13.0561 6.52813 10.3942C6.74803 10.0746 7.0214 9.8182 7.32927 9.64277C7.63714 9.46735 7.97212 9.3771 8.31095 9.3783H8.31844C8.65628 9.37865 8.99 9.47029 9.29634 9.64686C9.60269 9.82343 9.87431 10.0807 10.0923 10.4007C11.2453 12.0987 12.6211 14.6156 12.6211 16.9634C12.6194 18.3164 12.2038 19.6182 11.4581 20.6061C10.7124 21.594 9.69218 22.1945 8.60333 22.2862C10.7563 22.2003 12.7976 21.0786 14.295 19.159C15.7924 17.2394 16.6281 14.6725 16.6253 12.0021C16.6215 7.79176 14.3784 5.43101 11.7814 2.69384Z"
              fill="white"
            />
          </svg>
          Obter Curtidas Ilimitadas
        </button>
        <button
          onclick="document.getElementById('unlimitedLikesOverlay').style.display='none'"
          style="
            background: none;
            border: none;
            color: #868686;
            margin-top: 15px;
            cursor: pointer;
            font-size: 14px;
          "
        >
          Fechar
        </button>
      </div>
    </div>

    <div
      class="popup-overlay"
      id="pricesPopup"
      style="
        display: none;
        justify-content: center;
        align-items: center;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 99999;
      "
    >
      <div
        class="popup"
        style="
          background-color: white;
          padding: 20px;
          border: 1.5px solid #fe7735;
          border-radius: 10px;
          max-width: 380px;
          box-sizing: border-box;
          font-family: Arial, sans-serif;
        "
      >
        <h2
          style="
            background: linear-gradient(180deg, #fe7735 0%, #ef0e0e 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 0 0 12px 0;
            font-weight: 700;
          "
        >
          Curtidas Ilimitadas
        </h2>

        <p style="color: black; font-size: 15px; margin-bottom: 20px">
          Aproveite as ofertas promocionais para desbloquear curtidas e matches
          extras!
        </p>

        <div
          style="
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
          "
        >
          <!-- Plano 1 -->
          <div
            style="
              border: 1px solid #fe7735;
              border-radius: 10px;
              padding: 12px;
              font-size: 14px;
              text-align: center;
            "
          >
            <span style="color: #ef0e0e; font-weight: bold"
              >Por apenas R$ 12,90</span
            ><br />
            <span style="color: #333">+10 Curtidas · +1 Match</span>
          </div>

          <!-- Plano 2 -->
          <div
            style="
              border: 1px solid #fe7735;
              border-radius: 10px;
              padding: 12px;
              font-size: 14px;
              text-align: center;
            "
          >
            <span style="color: #ef0e0e; font-weight: bold"
              >Por apenas R$ 27,90</span
            ><br />
            <span style="color: #333">+30 Curtidas · +5 Match</span>
          </div>

          <!-- Plano 3 -->
          <div
            style="
              border: 1px solid #fe7735;
              border-radius: 10px;
              padding: 12px;
              font-size: 14px;
              text-align: center;
            "
          >
            <span style="color: #ef0e0e; font-weight: bold"
              >Por apenas R$ 49,90</span
            ><br />
            <span style="color: #333">Curtidas + Match ilimitados</span>
          </div>
        </div>

        <button
          onclick="window.location.href='https://pix-spark-buy.vercel.app/'"
          style="
            border-radius: 10px;
            background: linear-gradient(90deg, #fe7735 0%, #ef0e0e 100%);
            border: none;
            cursor: pointer;
            color: white;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            font-size: 14px;
            width: 100%;
            justify-content: center;
            transition: background 0.3s ease;
          "
        >
          Assinar Agora
        </button>

        <button
          onclick="closePricesPopup()"
          style="
            background: none;
            border: none;
            color: #868686;
            margin-top: 15px;
            cursor: pointer;
            font-size: 14px;
          "
        >
          Fechar
        </button>
      </div>
    </div>

    <script>
      function closePricesPopup() {
        document.getElementById("pricesPopup").style.display = "none";
      }
    </script>

    <script>
      // Função para abrir o primeiro pop-up
      function openUnlimitedLikesPopup() {
        document.getElementById("unlimitedLikesOverlay").style.display = "flex";
      }

      // Função para abrir o segundo pop-up e fechar o primeiro
      function openSecondPopup() {
        document.getElementById("unlimitedLikesOverlay").style.display = "none";
        document.getElementById("pricesPopup").style.display = "flex";
      }

      // Função para fechar o segundo pop-up
      function closePricesPopup() {
        document.getElementById("pricesPopup").style.display = "none";
      }

      // Exemplo: abrir o primeiro pop-up manualmente (pode controlar a partir do seu script)
      // openUnlimitedLikesPopup();
    </script>

    <script>
      const profilesData = [
        {
          id: "Luciana",
          name: "Luciana, 34",
          distance: 8,
          bio: "Sou pura energia e amo novas experiências! Se tem algo que me desafia, já quero tentar",
          about: ["🎧 Podcasts", "🏋️‍♀️ Academia", "✈️ Viajar"],
          images: ["coroas/1/1.jpg", "coroas/1/2.jpg"],
        },
        {
          id: "Camila",
          name: "Camila, 39",
          distance: 3,
          bio: "Tenho um pé na arte e outro na sofisticação. Amo coisas bonitas, bem-feitas e cheias de significado",
          about: ["🖼️ Arte", "👗 Moda", "🍷 Vinhos"],
          images: ["coroas/2/1.png", "coroas/2/2.png"],
        },
        {
          id: "Julia",
          name: "Julia, 34",
          distance: 20,
          bio: "Sou a animação em pessoa! Se tem festa, se tem gente, tô lá!",
          about: ["🍹 Drinks exóticos", "🎤 Karaokê", "💃 Dançar"],
          images: ["coroas/3/1.png", "coroas/3/2.png"],
        },
        {
          id: "Mariana",
          name: "Mariana, 48",
          distance: 16,
          bio: "Sou curiosa por natureza e adoro aprender coisas novas. Sempre pronta para uma boa conversa!",
          about: ["♒ Aquariana", "📝 Poesias", "🏔️ Trilhas"],
          images: ["coroas/4/1.png", "coroas/4/1.png"],
        },
        {
          id: "Fernanda",
          name: "Fernanda",
          age: 53,
          distance: 7,
          bio: "Sou detalhista, organizada e adoro momentos de tranquilidade, mas também curto uma boa aventura.",
          about: ["📖 Leitora", "👩‍🍳 Cozinhar", "🏊 Natação"],
          images: ["coroas/5/1.jpg", "coroas/5/2.jpg"],
        },
        {
          id: "Beatriz",
          name: "Beatriz, 27",
          distance: 11,
          bio: "Sou romântica, sonhadora e apaixonada pela beleza dos pequenos detalhes",
          about: ["♓ Pisciana", "🌙 Mística", "🌸 flores"],
          images: ["coroas/6/1.png", "coroas/6/2.png"],
        },
        {
          id: "Amanda",
          name: "Amanda, 36",
          distance: 17,
          bio: "Sou espontânea, aventureira e movida a adrenalina! Se tem emoção, eu tô dentro.",
          about: ["🏕️ Acampar", "💪 Competitiva", "🎤 Cantar"],
          images: ["coroas/7/1.png", "coroas/7/2.png"],
        },
        {
          id: "Carolina",
          name: "Carolina, 28",
          distance: 4,
          bio: "Sou movida a desafios e adoro sair da zona de conforto. Sempre buscando algo novo para aprender!",
          about: ["🏋️‍♀️ Academia", "🗣️ Três idiomas", "☕ Café"],
          images: ["coroas/8/1.jpg", "coroas/8/2.jpg"],
        },
        {
          id: "Isabela",
          name: "Isabela, 30",
          distance: 15,
          bio: "Sou apaixonada por boas histórias, sejam elas em livros, filmes ou em uma conversa envolvente.",
          about: ["📖 Leitora", "🎨 Criativa", "🍫 Chocolover"],
          images: ["coroas/9/1.jpg", "coroas/9/2.jpg"],
        },
        {
          id: "Gabriela",
          name: "Gabriela, 24",
          distance: 13,
          bio: "Sou energia pura e não gosto de rotina! Adoro me jogar em novas aventuras e conhecer gente interessante",
          about: ["🛩️ Viajar", "🏃‍♀️ Esportista", "📸 Fotografia"],
          images: ["coroas/10/1.jpg", "coroas/10/1.jpg"],
        },
        {
          id: "Renata",
          name: "Renata, 41",
          distance: 9,
          bio: "Sou prática, direta e adoro uma boa organização. Gosto de resolver problemas e otimizar tudo!",
          about: ["🧘‍♀️ Yoga", "🍷  Vinhos", "🐶 Mãe de pet"],
          images: ["coroas/11/1.jpg", "coroas/11/2.jpg"],
        },
      ];

      const profileContainer = document.getElementById("profile-container");
      const likeBtn = document.getElementById("like");
      const dislikeBtn = document.getElementById("dislike");
      const likeCountSpan = document.getElementById("like-count");
      const matchCountSpan = document.getElementById("match-count");
      const matchOverlay = document.getElementById("matchOverlay");
      const matchPopup = document.getElementById("matchPopup");
      const profileImageMatch = document.getElementById("profile-image-match");
      const popupImageMatch = document.getElementById("popup-image-match");
      const matchChatBtn = document.getElementById("match-chat-btn");
      const unlimitedLikesOverlay = document.getElementById(
        "unlimitedLikesOverlay"
      );
      const distanceIncreaseOverlay = document.getElementById("distanceIncreaseOverlay");
      const distanceOptions = document.querySelectorAll(".distance-option");
      const confirmDistanceBtn = document.getElementById("confirmDistanceBtn");

      let currentIndex = 0;
      let likeCount = 5;
      let matchCount = 0;
      let likedProfiles = [];
      let matchedProfiles = [];
      let likesGivenInSession = 0;
      let currentDistance = 20; // Distância atual em km
      let selectedDistance = null;

      // Wait for DOM to be fully loaded
      document.addEventListener('DOMContentLoaded', function() {
        const distanceIncreaseOverlay = document.getElementById("distanceIncreaseOverlay");
        const distanceOptions = document.querySelectorAll(".distance-option");
        const confirmDistanceBtn = document.getElementById("confirmDistanceBtn");
        const vipPaymentOverlay = document.getElementById("vipPaymentOverlay");

        // --- Distance Increase Popup Functions ---
        window.showDistanceIncreasePopup = function() {
          distanceIncreaseOverlay.style.display = "flex";
          selectedDistance = null;
          confirmDistanceBtn.disabled = true;
          
          // Reset selection
          distanceOptions.forEach(option => {
            option.classList.remove("selected");
          });
        };

        // Add event listeners for distance options
        distanceOptions.forEach(option => {
          option.addEventListener("click", function() {
            // Remove selection from all options
            distanceOptions.forEach(opt => opt.classList.remove("selected"));
            
            // Add selection to clicked option
            this.classList.add("selected");
            
            // Enable confirm button
            selectedDistance = parseInt(this.getAttribute("data-distance"));
            confirmDistanceBtn.disabled = false;
          });
        });

        // Confirm distance button
        confirmDistanceBtn.addEventListener("click", function() {
          if (selectedDistance) {
            currentDistance = selectedDistance;
            
            // Save the new distance
            saveState();
            
            // Close distance popup
            distanceIncreaseOverlay.style.display = "none";
            
            // Show VIP payment popup
            showVIPPaymentPopup();
          }
        });

        // Close popup when clicking outside
        distanceIncreaseOverlay.addEventListener("click", function(e) {
          if (e.target === distanceIncreaseOverlay) {
            distanceIncreaseOverlay.style.display = "none";
          }
        });

        // Close VIP popup when clicking outside
        vipPaymentOverlay.addEventListener("click", function(e) {
          if (e.target === vipPaymentOverlay) {
            closeVIPPayment();
          }
        });

        // Show VIP Payment Popup
        function showVIPPaymentPopup() {
          const distanceText = vipPaymentOverlay.querySelector("p strong");
          
          // Update the distance text in the popup
          if (distanceText) {
            distanceText.textContent = `${currentDistance} km`;
          }
          
          vipPaymentOverlay.style.display = "flex";
        }

        // Process VIP Payment
        window.processVIPPayment = function() {
          // Redirect to payment page
          window.location.href = "seu link aqui";
        };

        // Close VIP Payment Popup
        window.closeVIPPayment = function() {
          vipPaymentOverlay.style.display = "none";
          
          // Reset button state
          const vipPaymentBtn = document.querySelector(".vip-payment-btn");
          if (vipPaymentBtn) {
            vipPaymentBtn.innerHTML = `
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" style="margin-right: 8px;">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
              </svg>
              Ativar VIP Premium
            `;
            vipPaymentBtn.disabled = false;
          }
        };

        // Show VIP Success and Load Profiles
        function showVIPSuccessAndLoadProfiles() {
          // Show success message
          const noMoreProfiles = document.getElementById("noMoreProfiles");
          if (noMoreProfiles) {
            noMoreProfiles.innerHTML = `
              <img src="logoCoroa.png" alt="Logo VIP" style="width: 80px; margin-bottom: 25px;">
              <h1 style="color: #ff4458;">🎉 VIP Ativado!</h1>
              <p style="margin-bottom: 20px;">Seu plano VIP Premium foi ativado com sucesso!</p>
              <p style="margin-bottom: 30px;">Carregando perfis em um raio de <strong>${currentDistance} km</strong>...</p>
              <div style="margin-top: 20px;">
                <div style="width: 40px; height: 40px; border: 4px solid rgba(255,68,88,0.3); border-top: 4px solid #ff4458; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto;"></div>
              </div>
              <style>
                @keyframes spin {
                  0% { transform: rotate(0deg); }
                  100% { transform: rotate(360deg); }
                }
              </style>
            `;
          }

          // Simulate loading profiles with VIP access
          setTimeout(() => {
            // Reset to first profile and show new profiles
            currentIndex = 0;
            showProfile(currentIndex);
            
            // Update the "no more profiles" message with new distance
            updateNoMoreProfilesMessage();
            
            // Re-enable buttons
            likeBtn.disabled = false;
            dislikeBtn.disabled = false;
            likeBtn.style.opacity = "1";
            dislikeBtn.style.opacity = "1";
            
            // Show VIP success notification
            showVIPSuccessNotification();
          }, 3000);
        }

        // Show VIP Success Notification
        function showVIPSuccessNotification() {
          // Create a temporary success notification
          const notification = document.createElement("div");
          notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, #420079, #ae00ff);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(174, 0, 255, 0.3);
            z-index: 10000;
            font-weight: 600;
            animation: slideIn 0.5s ease;
          `;
          notification.innerHTML = `
            <div style="display: flex; align-items: center; gap: 10px;">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
              </svg>
              VIP Premium Ativado!
            </div>
          `;
          
          document.body.appendChild(notification);
          
          // Remove notification after 3 seconds
          setTimeout(() => {
            notification.style.animation = "slideOut 0.5s ease";
            setTimeout(() => {
              if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
              }
            }, 500);
          }, 3000);
        }

        // Add CSS animations for notification
        const style = document.createElement("style");
        style.textContent = `
          @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
          }
        `;
        document.head.appendChild(style);
      });

      // Simulate loading profiles with new distance
      function simulateLoadingProfiles() {
        // Show loading state
        const noMoreProfiles = document.getElementById("noMoreProfiles");
        if (noMoreProfiles) {
          noMoreProfiles.innerHTML = `
            <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Logo Coroa">
            <h1>Carregando novos perfis...</h1>
            <p>Buscando perfis em um raio de <strong>${currentDistance} km</strong></p>
            <div style="margin-top: 20px;">
              <div style="width: 40px; height: 40px; border: 4px solid rgba(255,255,255,0.3); border-top: 4px solid white; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto;"></div>
            </div>
            <style>
              @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
              }
            </style>
          `;
        }

        // Simulate API call delay
        setTimeout(() => {
          // Reset to first profile and show new profiles
          currentIndex = 0;
          showProfile(currentIndex);
          
          // Update the "no more profiles" message with new distance
          updateNoMoreProfilesMessage();
          
          // Re-enable buttons
          likeBtn.disabled = false;
          dislikeBtn.disabled = false;
          likeBtn.style.opacity = "1";
          dislikeBtn.style.opacity = "1";
        }, 3000);
      }

      // Update the "no more profiles" message with current distance
      function updateNoMoreProfilesMessage() {
        const noMoreProfiles = document.getElementById("noMoreProfiles");
        if (noMoreProfiles) {
          const distanceInfo = noMoreProfiles.querySelector(".distance-info p");
          if (distanceInfo) {
            distanceInfo.innerHTML = `Você está buscando perfis em um raio de <strong>${currentDistance} km</strong>`;
          }
        }
      }

      // --- Load Data from localStorage ---
      function loadState() {
        const savedIndex = localStorage.getItem("currentIndex");
        const savedLikeCount = localStorage.getItem("likeCount");
        const savedMatchCount = localStorage.getItem("matchCount");
        const savedMatchedProfiles = localStorage.getItem("matchedProfiles");
        const savedLikedProfiles = localStorage.getItem("likedProfiles");
        const savedDistance = localStorage.getItem("currentDistance");

        if (likeCount <= 0) {
          likeBtn.disabled = true;
          dislikeBtn.disabled = true;
          likeBtn.style.opacity = "0.5";
          dislikeBtn.style.opacity = "0.5";
        } else {
          likeBtn.disabled = false;
          dislikeBtn.disabled = false;
          likeBtn.style.opacity = "1";
          dislikeBtn.style.opacity = "1";
        }

        currentIndex = savedIndex ? parseInt(savedIndex, 5) : 0;
        likeCount = savedLikeCount ? parseInt(savedLikeCount, 5) : 5;
        matchCount = savedMatchCount ? parseInt(savedMatchCount, 5) : 0;
        matchedProfiles = savedMatchedProfiles
          ? JSON.parse(savedMatchedProfiles)
          : [];
        likedProfiles = savedLikedProfiles
          ? JSON.parse(savedLikedProfiles)
          : [];
        currentDistance = savedDistance ? parseInt(savedDistance, 10) : 20;

        if (currentIndex >= profilesData.length) {
          currentIndex = profilesData.length;
        }

        updateCounters();
        updateNoMoreProfilesMessage();
      }

      // --- Save Data to localStorage ---
      function saveState() {
        localStorage.setItem("currentIndex", currentIndex);
        localStorage.setItem("likeCount", likeCount);
        localStorage.setItem("matchCount", matchCount);
        localStorage.setItem(
          "matchedProfiles",
          JSON.stringify(matchedProfiles)
        );
        localStorage.setItem("likedProfiles", JSON.stringify(likedProfiles));
        localStorage.setItem("currentDistance", currentDistance);
      }

      // --- Update Header Counters ---
      function updateCounters() {
        likeCountSpan.textContent = likeCount;
        matchCountSpan.textContent = matchCount;
      }

      // --- Create Profile HTML ---
      function createProfileElement(profile, index) {
        const div = document.createElement("div");
        div.id = `profile-${profile.id}`;
        div.className = "coroas";
        if (index === currentIndex) {
          div.classList.add("active");
        }

        let imageHtml = "";
        profile.images.forEach((imgSrc, imgIndex) => {
          if (imgIndex === 0) {
            imageHtml += `<img src="${imgSrc}" alt="${profile.name} ${
              imgIndex + 1
            }" class="carousel-image">`;
          } else {
            imageHtml += `
                    <div class="carousel-image" data-locked="true">
                        <img src="${imgSrc}" alt="${profile.name} ${
              imgIndex + 1
            }" class="blur-image">
                        <div class="cadeado-overlay">
                            <img src="https://images.vexels.com/media/users/3/136535/isolated/lists/393a7d8e436bccc3aedfd43865b48890-icone-de-cadeado.png" alt="Cadeado">
                            <h1>Apenas para Assinantes</h1>
                        </div>
                    </div>`;
          }
        });

        // Add carousel indicators
        let indicatorsHtml = "";
        if (profile.images.length > 1) {
          indicatorsHtml = `<div class="carousel-indicators">`;
          for (let i = 0; i < profile.images.length; i++) {
            indicatorsHtml += `<div class="carousel-indicator-item" data-index="${i}"></div>`;
          }
          indicatorsHtml += `</div>`;
        }

        div.innerHTML = `
            <div class="profile-header">
                <div class="carousel-container" data-image-index="0">
                    <div class="carousel-images" style="transform: translateX(0%);">
                        ${imageHtml}
                    </div>
                    ${indicatorsHtml} ${
          profile.images.length > 1
            ? `
                    <button class="carousel-btn left" onclick="moveSlide(-1, '${profile.id}')">&#10094;</button>
                    <button class="carousel-btn right" onclick="moveSlide(1, '${profile.id}')">&#10095;</button>
                    `
            : ""
        }
                </div>
                <div class="profile-sections">
                    <div class="profile-name-distance">
                        <h1 style="margin-left: 15px; font-weight: 400; color: white">${
                          profile.name
                        }</h1>
                        <div class="profile-distance" style="margin-right: 20px;">
                            <img src="https://cdn-icons-png.flaticon.com/512/684/684908.png" height="15px" />
                            <p style="font-weight: 200">A ${
                              profile.distance
                            }km daqui</p>
                        </div>
                    </div>
                    <div class="profile-content">
                        <div class="tags-container">
                            ${profile.about
                              .map(
                                (tag) => `<span class="info-tag">${tag}</span>`
                              )
                              .join("")}
                        </div>
                    </div>
                    <div class="profile-content">
                        <h3 style="color: rgba(255, 255, 255, 0.60); font-weight: 300">Bio</h3>
                        <p style="font-weight: 300">${profile.bio}</p>
                    </div>
                </div>
            </div> 
        `;
        return div;
      }

      // --- Create 'No More Profiles' Element ---
      function createNoMoreProfilesElement() {
        const div = document.createElement("div");
        div.id = "noMoreProfiles";
        div.className = "coroas active";
        div.innerHTML = `
            <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Logo Coroa">
            <h1>Não há mais perfis</h1>
            <p>Você viu todos os perfis disponíveis na sua área.<br>Volte mais tarde ou ajuste seus filtros!</p>
            
            <div class="distance-info">
                <h3>🔍 Distância Atual</h3>
                <p>Você está buscando perfis em um raio de <strong>${currentDistance} km</strong></p>
            </div>
            
            <button class="increase-distance-btn" onclick="showDistanceIncreasePopup()">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="currentColor"/>
                </svg>
                Aumentar Distância
            </button>
        `;
        return div;
      }

      // --- Render Profiles ---
      function renderProfiles() {
        profileContainer.innerHTML = "";
        profilesData.forEach((profile, index) => {
          profileContainer.appendChild(createProfileElement(profile, index));
        });
        profileContainer.appendChild(createNoMoreProfilesElement());
        showProfile(currentIndex);
      }

      // --- Show Specific Profile ---
      function showProfile(indexToShow) {
        const allProfiles = profileContainer.querySelectorAll(".coroas");
        allProfiles.forEach((profile, index) => {
          if (index === indexToShow) {
            profile.classList.add("active");
            updateCarouselIndicators(profile); // Update indicators for the active profile
          } else {
            profile.classList.remove("active");
          }
        });
        if (indexToShow >= profilesData.length) {
          likeBtn.disabled = true;
          dislikeBtn.disabled = true;
          likeBtn.style.opacity = "0.5";
          dislikeBtn.style.opacity = "0.5";
        }
        const profileElement =
          profileContainer.querySelectorAll(".coroas")[indexToShow];
        if (profileElement) {
          const carouselContainer = profileElement.querySelector(
            ".carousel-container"
          );
          if (carouselContainer) {
            carouselContainer.setAttribute("data-image-index", 0);
            const carouselImages =
              profileElement.querySelector(".carousel-images");
            if (carouselImages) {
              carouselImages.style.transform = `translateX(0%)`;
            }
          }
        }
        updateCarouselIndicators(profileElement);
      }

      // --- Update Carousel Indicators ---
      function updateCarouselIndicators(profileElement) {
        const container = profileElement.querySelector(".carousel-container");
        const indicators = container.querySelectorAll(
          ".carousel-indicator-item"
        );
        const currentImageIndex =
          parseInt(container.getAttribute("data-image-index")) || 0;

        indicators.forEach((indicator, index) => {
          if (index === currentImageIndex) {
            indicator.classList.add("active");
          } else {
            indicator.classList.remove("active");
          }
        });
      }

      // --- Carousel Logic ---
      window.moveSlide = function (direction, profileId) {
        const profileElement = document.getElementById(`profile-${profileId}`);
        const container = profileElement.querySelector(".carousel-container");
        const images = profileElement.querySelectorAll(".carousel-image");
        let currentImageIndex =
          parseInt(container.getAttribute("data-image-index")) || 0;

        currentImageIndex += direction;

        if (currentImageIndex < 0) {
          currentImageIndex = images.length - 1;
        } else if (currentImageIndex >= images.length) {
          currentImageIndex = 0;
        }

        container.setAttribute("data-image-index", currentImageIndex);
        const offset = -currentImageIndex * 100;
        container.querySelector(
          ".carousel-images"
        ).style.transform = `translateX(${offset}%)`;

        updateCarouselIndicators(profileElement); // Update indicators after slide
      };

      // --- Swipe Logic ---
      let touchStartX = 0;
      let touchEndX = 0;

      profileContainer.addEventListener("touchstart", (e) => {
        const activeProfile = profileContainer.querySelector(".coroas.active");
        if (
          activeProfile &&
          activeProfile.querySelector(".carousel-container")
        ) {
          touchStartX = e.touches[0].clientX;
        }
      });

      profileContainer.addEventListener("touchmove", (e) => {
        const activeProfile = profileContainer.querySelector(".coroas.active");
        if (
          activeProfile &&
          activeProfile.querySelector(".carousel-container")
        ) {
          touchEndX = e.touches[0].clientX;
        }
      });

      profileContainer.addEventListener("touchend", (e) => {
        const activeProfile = profileContainer.querySelector(".coroas.active");
        if (!activeProfile) return;

        const carouselContainer = activeProfile.querySelector(
          ".carousel-container"
        );
        const profileId = activeProfile.id.replace("profile-", "");

        if (touchEndX < touchStartX - 50) {
          // Swiped left
          window.moveSlide(1, profileId);
        } else if (touchEndX > touchStartX + 50) {
          // Swiped right
          window.moveSlide(-1, profileId);
        }
        touchStartX = 0;
        touchEndX = 0;
      });

      // --- Show Next Profile Logic ---
      function showNextProfile(action) {
        if (currentIndex >= profilesData.length) return;

        const currentProfileData = profilesData[currentIndex];

        if (action === "like") {
          if (likeCount <= 0) {
            unlimitedLikesOverlay.style.display = "flex";
            return;
          }

          likeCount--;
          likesGivenInSession++;
          likedProfiles.push(currentProfileData.id);

          if (likesGivenInSession === 4) {
            matchCount++;
            const matchData = {
              id: currentProfileData.id,
              name: currentProfileData.name,
              image: currentProfileData.images[0],
            };
            matchedProfiles.push(matchData);
            likesGivenInSession = 0;

            // Mostra o match
            showMatchPopup(matchData);
          }
        }

        currentIndex++;
        saveState();
        updateCounters();
        showProfile(currentIndex);
        const profileElement =
          profileContainer.querySelectorAll(".coroas")[currentIndex];
        if (profileElement) {
          const carouselContainer = profileElement.querySelector(
            ".carousel-container"
          );
          if (carouselContainer) {
            carouselContainer.setAttribute("data-image-index", 0);
            const carouselImages =
              profileElement.querySelector(".carousel-images");
            if (carouselImages) {
              carouselImages.style.transform = `translateX(0%)`;
            }
          }
        }
        updateCarouselIndicators(profileElement);
      }

      // --- Show Match Popup ---
      function showMatchPopup(matchData) {
        const allPhotos = JSON.parse(
          localStorage.getItem("allProfilePhotos") || "[]"
        );
        const firstPhoto = allPhotos[0];

        profileImageMatch.src =
          firstPhoto ||
          "https://i.pinimg.com/236x/51/91/61/519161e4d3b21f2a849bf302b062dfb7.jpg";

        popupImageMatch.src = matchData.image;

        matchOverlay.style.display = "flex";

        // 🔥 Aqui faz passar pro próximo automaticamente
        showNextProfile("dislike");

        setTimeout(() => {
          matchOverlay.style.display = "none";
        }, 4000);

        matchChatBtn.onclick = () => {
          window.location.href = `contatos.html?highlight=${matchData.id}`;
        };
      }

      // --- Event Listeners ---
      likeBtn.addEventListener("click", () => showNextProfile("like"));
      dislikeBtn.addEventListener("click", () => showNextProfile("dislike"));

      matchOverlay.addEventListener("click", (e) => {
        if (e.target === matchOverlay) {
          matchOverlay.style.display = "none";
        }
      });

      unlimitedLikesOverlay.addEventListener("click", (e) => {
        if (e.target === unlimitedLikesOverlay) {
          unlimitedLikesOverlay.style.display = "none";
        }
      });

      // --- Initial Load ---
      loadState();
      renderProfiles();
    </script>
  </body>
</html>